ржЦрзБржм ржнрж╛рж▓рзЛ ржкрзНрж░рж╢рзНржи!
ржЖржкржирж┐ ржпрзЗрж╣рзЗрждрзБ ржПржХржЯрж┐ MySQL container ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржЪрж╛рж▓рзБ ржХрж░рзЗржЫрзЗржи, рждрж╛ржЗ ржирждрзБржи Laravel ржкрзНрж░ржЬрзЗржХрзНржЯ deploy ржХрж░рждрзЗ ржЪрж╛ржЗрж▓рзЗ ржУржЗ ржПржХржЗ MySQL server-ржХрзЗ reuse ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи, рж╢рзБржзрзБ ржирждрзБржи database, user ржПржмржВ password setup ржХрж░рждрзЗ рж╣ржмрзЗред

ржПржЯрж╛ ржХрж░рж╛рж░ рж╕ржарж┐ржХ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░ржЫрж┐:

тЬЕ Step 1: ржЖржЧрзЗрж░ MySQL container details
ржзрж░рж┐ ржЖржкржирж╛рж░ ржЖржЧрзЗрж░ docker-compose.yml ржмрж╛ MySQL service ржПрж░ ржирж╛ржо db
рж╕рж╛ржзрж╛рж░ржгржд MySQL ржПрж░ default port ЁЯСЙ 3306

тЬЕ Step 2: ржирждрзБржи database, user, password рждрзИрж░рж┐ ржХрж░рзБржи
ЁЯФС ржкржжрзНржзрждрж┐ рзз: Docker exec ржжрж┐рзЯрзЗ
1я╕ПтГг MySQL container ржПрж░ ржирж╛ржо ржЬрзЗржирзЗ ржирж┐ржи:

bash
Copy
Edit
docker ps
ржзрж░рж┐, ржЖржкржирж╛рж░ container ржПрж░ ржирж╛ржо mysql_db

2я╕ПтГг MySQL container ржП ржврзБржХрзБржи:

bash
Copy
Edit
docker exec -it mysql_db mysql -u root -p
root ржПрж░ password ржжрж┐ржи (ржЖржкржирж┐ ржЖржЧрзЗрж░ MYSQL_ROOT_PASSWORD ржХрзА ржжрж┐рзЯрзЗржЫрзЗржи рж╕рзЗржЯрж╛)

3я╕ПтГг ржирждрзБржи database, user рждрзИрж░рж┐ ржХрж░рзБржи:

sql
Copy
Edit
CREATE DATABASE abc;
CREATE USER 'dev1'@'%' IDENTIFIED BY 'Time@12345';
GRANT ALL PRIVILEGES ON abc.* TO 'dev1'@'%';
FLUSH PRIVILEGES;
тЬЕ Step 3: ржирждрзБржи Laravel ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ .env ржлрж╛ржЗрж▓ configure ржХрж░рзБржи
ржирждрзБржи Laravel ржПрж░ .env ржлрж╛ржЗрж▓рзЗ ржПржЗржнрж╛ржмрзЗ database config ржжрж┐ржи:

env
Copy
Edit
DB_CONNECTION=mysql
DB_HOST=db          # тЪая╕П ржЖржкржирж╛рж░ MySQL container ржПрж░ service name (ржпрзЗржоржи: db)
DB_PORT=3306
DB_DATABASE=abc
DB_USERNAME=dev1
DB_PASSWORD=Time@12345
ЁЯСЙ DB_HOST = ржЖржЧрзЗрж░ MySQL container ржПрж░ рж╕рж╛рж░рзНржнрж┐рж╕ ржирж╛ржо

ржпржжрж┐ ржЖржкржирж╛рж░ ржирждрзБржи Laravel ржкрзНрж░ржЬрзЗржХрзНржЯ ржЖрж░ MySQL ржПржХржЗ Docker network ржП ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ service name ржарж┐ржХржарж╛ржХ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗ (ржпрзЗржоржи db)

тЬЕ Step 4: ржирждрзБржи Laravel ржПрж░ docker-compose.yml
ржЖржкржирж╛рж░ ржирждрзБржи Laravel ржПрж░ docker-compose.yml ржлрж╛ржЗрж▓ ржП MySQL container define ржХрж░рждрзЗ рж╣ржмрзЗ ржирж╛ред
рж╢рзБржзрзБ depends_on ржжрж┐рзЯрзЗ ржЖржЧрзЗрж░ db ржПрж░ ржЙржкрж░ dependency ржжрзЗржЦрж╛рждрзЗ ржкрж╛рж░рзЗржи:

yaml
Copy
Edit
version: "3.8"

services:
  app:
    build: .
    container_name: laravel_app
    working_dir: /var/www
    volumes:
      - .:/var/www
    depends_on:
      - db
    environment:
      - DB_HOST=db
      - DB_PORT=3306
      - DB_DATABASE=abc
      - DB_USERNAME=dev1
      - DB_PASSWORD=Time@12345
    networks:
      - laravel_network

  nginx:
    image: nginx:latest
    container_name: laravel_nginx
    volumes:
      - .:/var/www
      - ./nginx/default.conf:/etc/nginx/conf.d/default.conf
    ports:
      - "8082:80"
    depends_on:
      - app
    networks:
      - laravel_network

networks:
  laravel_network:
    external: true
ЁЯСЙ ржПржЦрж╛ржирзЗ networks ржЕржВрж╢рзЗ ржЖржЧрзЗрж░ MySQL container ржпрзЗ network ржП ржЖржЫрзЗ, рж╕рзЗржЯрж┐ external: true ржжрж┐рзЯрзЗ ржпрзБржХрзНржд ржХрж░рждрзЗ рж╣ржмрзЗред

тЬЕ Step 5: ржирждрзБржи Laravel app run ржХрж░рзБржи
bash
Copy
Edit
docker compose up -d
ЁЯУМ ржорзВрж▓ ржХржерж╛
ржЖржЧрзЗрж░ MySQL container ржПржХржЗ ржерж╛ржХржмрзЗред

ржирждрзБржи Laravel ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ .env рждрзЗ ржирждрзБржи database name, user/password ржжрж┐ржмрзЗржиред

ржирждрзБржи Laravel container ржЖржЧрзЗрж░ network ржП ржерж╛ржХржмрзЗ ржпрж╛рждрзЗ MySQL access ржХрж░рждрзЗ ржкрж╛рж░рзЗред

ЁЯЪА ржЪрж╛ржЗрж▓рзЗ ржЖржорж┐ ржЖржкржирж╛рж░ ржЬржирзНржп ржкрзБрж░рзЛ ржирждрзБржи docker-compose.yml ржЖрж░ .env ржЯрзЗржорзНржкрж▓рзЗржЯ ржмрж╛ржирж┐рзЯрзЗ ржжрж┐рждрзЗ ржкрж╛рж░рж┐!
